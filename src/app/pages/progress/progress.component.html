<!-- done.component.html -->
<main id="data-display" *ngIf="!processingCompleted">

<div class="mat-elevation-z8">
    <table mat-table [dataSource]="completedDocuments" class="mat-elevation-z8">
        <!-- Document ID Column -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let document"> {{ document.id }} </td>
        </ng-container>
        <!-- Document ID Column -->
        <ng-container matColumnDef="documentId">
            <th mat-header-cell *matHeaderCellDef> Document ID </th>
            <td mat-cell *matCellDef="let document"> {{ document.documentId }} </td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let document"> {{ document.status }} </td>
        </ng-container>
        <!-- Status Column -->
        <ng-container matColumnDef="userId">
            <th mat-header-cell *matHeaderCellDef> UserID </th>
            <td mat-cell *matCellDef="let document"> {{ document.userId }} </td>
        </ng-container>

        <!-- Created At Column -->
        <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef> Created At </th>
            <td mat-cell *matCellDef="let document"> {{ document.createdAt | date: 'medium' }} </td>
        </ng-container>

        <!-- Updated At Column -->
        <ng-container matColumnDef="updatedAt">
            <th mat-header-cell *matHeaderCellDef> Updated At </th>
            <td mat-cell *matCellDef="let document"> {{ document.updatedAt | date: 'medium' }} 
        </ng-container>


        <!-- Updated At Column -->
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action</th>
            <td mat-cell *matCellDef="let document"> 
                <button mat-button color="primary" (click)="consultDocument(document.documentId,document.id)">Consult</button>
            </td>
        </ng-container>


        <!-- Define the columns to display -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>
</main>



<main id="data-display" *ngIf="processingCompleted">

    <!-- form.component.html -->
    <div class="container-header-invoice">

        <div class="form-container">

        
             <div class="title">
                <h2 class="form-title">Data of Invoice</h2>
             </div>
                 <div>
                    <form [formGroup]="invoiceForm"  >

                        <mat-form-field class="invoice-field">
                          <mat-label>Invoice Number</mat-label>
                          <input matInput type="text" [(ngModel)]="responseData.Documents[0].DocumentData.Fields[0].Value" formControlName="invoiceNumber" id="invoiceNumber" name="invoiceNumber" >
                        </mat-form-field>
                      
                        <mat-form-field class="invoice-field">
                          <mat-label>Invoice Date</mat-label>
                          <input matInput type="text" [(ngModel)]="responseData.Documents[0].DocumentData.Fields[1].Value" formControlName="invoiceDate" id="invoiceDate" name="invoiceDate" >
                        </mat-form-field>
                      
                        <mat-form-field class="invoice-field">
                          <mat-label>Delivery Address</mat-label>
                          <textarea matInput [(ngModel)]="responseData.Documents[0].DocumentData.Fields[2].Value" formControlName="deliveryAddress" id="deliveryAddress" name="deliveryAddress" ></textarea>
                        </mat-form-field>
                      
                        <mat-form-field class="invoice-field">
                          <mat-label>Total Amount</mat-label>
                          <input matInput type="number" [(ngModel)]="responseData.Documents[0].DocumentData.Fields[3].Value" formControlName="totalAmount" id="totalAmount" name="totalAmount" >
                        </mat-form-field>
                      
                        <mat-form-field class="invoice-field">
                          <mat-label>Company</mat-label>
                          <input matInput type="text" [(ngModel)]="responseData.Documents[0].DocumentData.Fields[4].Value" formControlName="company" id="company" name="company" >
                        </mat-form-field>

 
             
                      </form>                     
                </div>
            <div class="separator"></div>
            <div class="separator"></div>
            <div class="separator"></div>
            <div class="separator"></div>
            <div class="separator"></div>


        </div>
        <div class="image-container">
            <ng-container *ngIf="pdfData">
                <iframe [src]="pdfData" width="100%" height="100%"></iframe>
            </ng-container>
        </div>
    </div>

        <mat-toolbar color="primary" >
            <div class="button-container">
                <button  mat-raised-button color="primary" type="submit" matTooltip="Update information" class="styled-button" (click)="updateDocument()">
                    <mat-icon>update</mat-icon>
                    Update
                  </button>

            </div>
        </mat-toolbar>

</main>